/** * FileName: RoleServiceImpl * Author:   SAMSUNG-PC 孙中军 * Date:     2018/9/27 17:59 * Description: */package com.qst.goldenarches.service.impl;import com.qst.goldenarches.dao.AdminMapper;import com.qst.goldenarches.dao.RoleMapper;import com.qst.goldenarches.pojo.Role;import com.qst.goldenarches.service.RoleService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import sun.misc.resources.Messages_pt_BR;import javax.naming.ldap.PagedResultsControl;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;@Servicepublic class RoleServiceImpl implements RoleService {    @Autowired    private RoleMapper roleMapper;    @Autowired    private AdminMapper adminMapper;    public List<Role> getAllRoles(String queryText) {        return roleMapper.selectAllRoles(queryText);    }    public void addRolePermissions(Map<String, Object> paramMap) {        //将单个的roleId转换成roleIds数组        List<Integer> roleIds =new ArrayList<Integer>();        roleIds.add((Integer)paramMap.get("roleId"));        Map<String, Object> map =new HashMap<String, Object>();        map.put("roleIds",roleIds);        roleMapper.deleteRolePermissions(map);        roleMapper.insertRolePermission(paramMap);    }    public void addRole(Role role) {        roleMapper.addRole(role);    }    public void editRole(Role role) {        roleMapper.updateRole(role);    }    public boolean validateNameUnique(String name) {        return roleMapper.selectRoleByName(name)==null?true:false;    }    public Role getRoleById(String id) {        return roleMapper.selectRoleById(id);    }    public void removeRoles(Map<String, Object> map) {        adminMapper.deleteAdminRoles(map);//在admin_role中删除和这个角色相关的所有数据        roleMapper.deleteRolePermissions(map);        roleMapper.deleteRole(map);    }}